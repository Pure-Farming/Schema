{
    "$id": "/livestock/treatment/medicine-resource",
    "description": "Defines a medicine and its withholding requirements within a scheme.  This extends the ICAR schema.",
    "allOf": [
        {
            "$ref": "https://raw.githubusercontent.com/adewg/ICAR/ADE-1/resources/icarMedicineResource.json"
        }
    ],
    "type": "object",
    "properties": {
        "form": {
            "$ref": "#/$defs/medicine-form"
        },
        "registrant": {
            "type": "string",
            "description": "The registering company or manufacturer of the medicine."
        },
        "registrationDate": {
            "$ref": "https://raw.githubusercontent.com/adewg/ICAR/ADE-1/types/icarDateType.json",
            "description": "The date the medicine was registered in the scheme."
        },
        "expiryDate": {
            "$ref": "https://raw.githubusercontent.com/adewg/ICAR/ADE-1/types/icarDateType.json",
            "description": "The date the registration of the medicine in the scheme expires."
        },
        "classification": {
            "$ref": "#/$defs/medicine-classification"
        },
        "species": {
            "type": "array",
            "items": {
                "$ref": "https://raw.githubusercontent.com/adewg/ICAR/ADE-1/enums/icarAnimalSpecieType.json"
            },
            "description": "The species that may be treated by this medicine."
        },
        "activeIngredients": {
            "type": "array",
            "items": {
                "$ref": "#/$defs/medicine-ingredient-type"
            },
            "description": "The active ingredients in the medicine."
        },
        "withholdings": {
            "type": "array",
            "items": {
                "$ref": "#/$defs/medicine-withholding-type"
            },
            "description": "The withholding periods defined for this medicine for a species for a particular product or food item."
        }
    },
    "$defs": {
        "medicine-form": {
            "description": "The physical form of a dose of the medicine.  Enumeration modified from the PubCRIS database.",
            "type": "string",
            "enum": [
                "Aerosol",
                "AqueousConcentrate",
                "AqueousSuspension",
                "AqueousSuspensionWithMicroencapsulatedActive",
                "AqueousTopicalSolution",
                "Aural-Ophthalmic-Oro/NasoPharyngeal",
                "Backline",
                "Bait",
                "BaitConcentrate",
                "BlendingConcentrate",
                "Block(Inc.Stick)",
                "Briquet",
                "CapsuleSuspension",
                "Cartridge",
                "Collar-Medalion",
                "Cream",
                "DermalPaste+OralPaste",
                "Diagnostic",
                "DispersibleConcentrate",
                "DryFlowable",
                "Dust",
                "DustablePowder",
                "EarTag",
                "EmulsifiableConcentrate",
                "EmulsifiableConcentrate+DryFlowable",
                "EmulsifiableGranule",
                "EmulsifiableSuspension",
                "Emulsion",
                "Emulsion-OilInWater",
                "EncapsulatedGranule",
                "FineGranule",
                "FishTankMedication",
                "Gas(SoilFumigant)",
                "GasGeneratingProduct",
                "Gel",
                "GeneticMaterial",
                "GranularFormulation",
                "ImpregnatedPlasticStrips",
                "ImpregnatedWetTissue",
                "Injection",
                "Intra-Mammary",
                "Intra-RuminalDevice",
                "Intra-Vaginal/UterinePrep/Device",
                "LaminatedBlanket",
                "Liquid",
                "LiquidConcentrate",
                "LiquidVaporiser",
                "LiquifiedGas",
                "Lotion",
                "MatrixReleaseFormulation",
                "MedicatedDressing-TopicalDevice",
                "MicroEmulsifiableConcentrate",
                "MicroEmulsion",
                "Microencapsulated",
                "MicroencapsulatedGel",
                "MicroencapsulatedPaste",
                "Microgranule",
                "MixedFormulationOfCapsuleSuspensionAndSuspensionConcentrate",
                "MixedFormulationOfCsAndEw",
                "Non-AqueousConcentrate",
                "OilMiscibleLiquid",
                "Oil-BasedSuspensionConcentrate",
                "Oil-BasedSuspensionConcentrates",
                "Ointment(Inc.Lotion-Salve-Dressing)",
                "OralBlock-Lick",
                "OralBolus+IntraVaginal/Uterine",
                "OralBolus-Chewable",
                "OralBolus/Chewable+TopicalSolution/Suspension",
                "OralCapsule",
                "OralChewable+TopicalCream-Ointment-Paste-Gel",
                "OralFood(Can/Semi-Dry/Dry)",
                "OralGel",
                "OralGranules-Pellets",
                "OralPaste",
                "OralPowder-Pre-Mix",
                "OralSeleniumFertilizer",
                "OralSolution/Suspension",
                "OralSyrup",
                "OralTablet",
                "OralTablet+TopicalSolution",
                "OtherLiquidsToBeAppliedUndiluted",
                "Paint",
                "ParenteralImplant-Device",
                "ParenteralLiquid/Solution/Suspension",
                "Paste",
                "Pellet(EgSnailBait)",
                "Powder",
                "PowderForDrySeedTreatment",
                "PressurisedGas",
                "PressurisedSpray",
                "Ready-To-UseBait",
                "RectalSuppository",
                "Resin",
                "Sachet",
                "Shampoo",
                "SlowReleaseGenerator(Inc.FleaCollars)",
                "SmokeGenerator(FumigantInsectOrFungicide)",
                "Soap",
                "Soap(Inc.Shampoo)",
                "Solid(Inc.MosquitoCoilsAndCandles-Premixes)",
                "SolubleConcentrate",
                "SolublePowder",
                "SolutionForSeedTreatment",
                "SuspensionConcentrate",
                "SuspensionConcentratesForSeedTreatment(FS)",
                "Suspoemulsion",
                "Tablet(Inc.Pellet-Bolus-Suppository-Capsule)",
                "TabletsForDirectApplication",
                "Topical+OralSolution/Suspension",
                "TopicalAerosolSpray",
                "TopicalCream-Ointment-Paste-Gel-Lotion",
                "TopicalDust-Powder",
                "TopicalPumpSpray",
                "TopicalSoln+Aural-Opthal-Oro",
                "TopicalSolution/Suspension",
                "TopicalSpray+Lotion",
                "ToweletWithImpregnatedLiquid",
                "TrackingPowder",
                "TransgenicPlant",
                "TreatedApparelAndGear",
                "UltraLowVolume",
                "VaccineOrAntisera",
                "VaccinesOrAntiSera",
                "VapourReleasingProduct",
                "Vet*",
                "VeterinaryInhalationAnaesthetics",
                "WaterDispersibleGranule",
                "WaterDispersibleGranule+AqueousConcentrate",
                "WaterMiscibleLiquid",
                "WaterSolubleGels",
                "WaterSolubleGranules",
                "WaxBlock",
                "WettablePowder"
            ]
        },
        "medicine-classification": {
            "description": "The classification or type of medicine.   Enumeration modified from the PubCRIS database.",
            "type": "string",
            "enum": [
                "ActiveConstituent",
                "AlimentarySystem",
                "Anaesthetics/Analgesics",
                "Antibiotic+Related",
                "Antibiotic+Nutritional",
                "Antibiotic+Genitourinary",
                "Antidotes",
                "Antihistamines",
                "BrandingSubstance",
                "CentralNervousSystem",
                "Dermal+EquipDisinfectant",
                "DermatologicalPreparations",
                "Disinfectant",
                "EndocrineSystem",
                "Euthanasiates",
                "GenitourinarySystem",
                "Immuno+Parasite+Nutrition",
                "Immunotherapy",
                "MusculoskeletalSystem",
                "Nutrition+Metabolism",
                "OphthalmicPreparations",
                "Parasiticide+Nutritional",
                "Parasiticides"
            ]
        },
        "medicine-withholding-type": {
            "type": "object",
            "required": [
                "species",
                "productType"
            ],
            "properties": {
                "productType": {
                    "$ref": "https://raw.githubusercontent.com/adewg/ICAR/ADE-1/enums/icarWithdrawalProductType.json",
                    "description": "Product or food item to which this withholding applies."
                },
                "hours": {
                    "type": "number",
                    "description": "The withholding period of the animal after being treated with the medicine (in hours)."
                },
                "market": {
                    "type": "string",
                    "description": "The market to which the withholding applies, using a scheme such as au.gov.apvma.esi or au.gov.apvma.whp"
                },
                "species": {
                    "$ref": "https://raw.githubusercontent.com/adewg/ICAR/ADE-1/enums/icarAnimalSpecieType.json",
                    "description": "The species to which this withholding applies."
                }
            }
        },
        "medicine-ingredient-type": {
            "description": "This identifies an ingredient of a medicine",
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "id": {
                    "$ref": "https://raw.githubusercontent.com/adewg/ICAR/ADE-1/types/icarIdentifierType.json"
                },
                "name": {
                    "type": "string",
                    "description": "Name of the ingredient"
                }
            }
        }
    },
    "examples": [
        {
            "resourceType": "/livestock/treatment/medicine-resource",
            "dataPointKey": "sample-data-medicine-resource-1",
            "name": "Backstop Combination Drench For Sheep",
            "approved": "Registered",
            "registeredID": {
                "id": "77777",
                "scheme": "au.gov.apvma"
            },
            "form": "OralSolution/Suspension",
            "registrant": "Backstop Limited",
            "registrationDate": "2022-09-16",
            "expiryDate": "2023-06-30",
            "classification": "Parasiticides",
            "species": [
                "Sheep"
            ],
            "withholdings": [
                {
                    "productType": "Meat",
                    "hours": 336,
                    "market": "au.gov.apvma.whp",
                    "species": "Sheep"
                },
                {
                    "productType": "Meat",
                    "hours": 1008,
                    "market": "au.gov.apvma.esi",
                    "species": "Sheep"
                }
            ],
            "activeIngredients": [
                {
                    "name": "Abamectin"
                },
                {
                    "name": "Levamisole as Levamisole Hydrochloride"
                },
                {
                    "name": "Albendazole"
                },
                {
                    "name": "Cobalt as Cobalt EDTA"
                },
                {
                    "name": "Selenium as Sodium Selenate"
                }
            ]
        },
        {
            "resourceType": "/livestock/treatment/medicine-resource",
            "dataPointKey": "sample-data-medicine-resource-2",
            "name": "Backstop 300mg/mL Injection",
            "approved": "Registered",
            "registeredID": {
                "id": "999999",
                "scheme": "au.gov.apvma"
            },
            "form": "ParenteralLiquid/Solution/Suspension",
            "registrant": "Backstop Pty Ltd",
            "registrationDate": "2022-09-07",
            "expiryDate": "2023-06-30",
            "classification": "Antibiotic+Related",
            "species": [
                "Cattle",
                "Sheep",
                "Pig"
            ],
            "withholdings": [
                {
                    "productType": "Meat",
                    "hours": 672,
                    "market": "au.gov.apvma.whp",
                    "species": "Sheep"
                },
                {
                    "productType": "Meat",
                    "hours": 672,
                    "market": "au.gov.apvma.whp",
                    "species": "Pig"
                },
                {
                    "productType": "Meat",
                    "hours": 840,
                    "market": "au.gov.apvma.whp",
                    "species": "Cattle"
                },
                {
                    "productType": "Milk",
                    "hours": 168,
                    "market": "au.gov.apvma.whp",
                    "species": "Cattle"
                },
                {
                    "productType": "Milk",
                    "hours": 192,
                    "market": "au.gov.apvma.whp",
                    "species": "Sheep"
                }
            ],
            "activeIngredients": [
                {
                    "name": "Oxytetracycline as the Dihydrate"
                }
            ]
        }
    ]
}